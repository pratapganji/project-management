Map<String, String> headersMap = Arrays.stream(headers.replaceAll("[{}]", "").split(","))
    .map(s -> s.split("=", 2))
    .filter(arr -> arr.length == 2)
    .collect(Collectors.toMap(
        arr -> arr[0].trim(),
        arr -> arr[1].trim()
    ));



import com.citi.olympus.nura.api.scheduler.BulkRetryScheduler;
import com.citi.olympus.nura.api.service.RestTemplateService;
import com.google.common.util.concurrent.RateLimiter;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.junit.jupiter.MockitoExtension;
import org.springframework.http.HttpMethod;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.test.util.ReflectionTestUtils;
import org.springframework.web.client.RestTemplate;

import java.util.Collections;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import static org.mockito.ArgumentMatchers.*;
import static org.mockito.Mockito.*;
